/**
 * Copyright 2023 Neckar IT GmbH, MÃ¶ssingen, Germany
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package com.meistercharts.history.storage


import assertk.*
import assertk.assertions.*
import com.meistercharts.history.HistoryBucket
import com.meistercharts.history.HistoryBucketDescriptor
import com.meistercharts.history.SamplingPeriod
import com.meistercharts.history.impl.HistoryChunk
import com.meistercharts.history.impl.createSinusChunk
import com.meistercharts.history.impl.io.SerializableHistoryBucketDescriptor
import com.meistercharts.history.impl.io.toSerializable
import it.neckar.open.serialization.roundTrip
import org.junit.jupiter.api.Disabled
import org.junit.jupiter.api.Test
import java.io.ByteArrayInputStream
import java.io.ByteArrayOutputStream

/**
 */
class HistoryStorageSerializerTest {
  @Test
  fun testSerializeDescriptor() {
    val descriptor = HistoryBucketDescriptor.forTimestamp(100000.0, SamplingPeriod.EveryTenMillis)
    val serializableDescriptor: SerializableHistoryBucketDescriptor = descriptor.toSerializable()

    val string = createPrettyJsonFormat().encodeToString(SerializableHistoryBucketDescriptor.serializer(), serializableDescriptor)

    //language=JSON
    roundTrip(
      serializableDescriptor,
      SerializableHistoryBucketDescriptor.serializer()
    ) {
      //language=JSON
      """
      {
        "index": 20.0,
        "bucketRange": "FiveSeconds"
      }
    """
    }
  }

  @Test
  fun testSerializeHistoryValues() {
    val descriptor = HistoryBucketDescriptor.forTimestamp(100000.0, SamplingPeriod.EveryTenMillis)
    val chunk = createSinusChunk(descriptor)

    val historyValues = chunk.values

    //language=JSON
    roundTrip(
      historyValues
    ) {
      //language=JSON
      """
        {
          "decimalHistoryValues" : {
            "values" : "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",
            "minValues" : null,
            "maxValues" : null
          },
          "enumHistoryValues" : {
            "values" : "AAAB9A==",
            "mostOfTheTimeValues" : null
          },
          "referenceEntryHistoryValues" : {
            "values" : "AAAB9A==",
                "differentIdsCount" : null,
                "dataMaps" : [ ]
          }
        }
        """
    }
  }

  @Test
  fun testSerializeHistoryChunk() {
    val descriptor = HistoryBucketDescriptor.forTimestamp(100000.0, SamplingPeriod.EveryTenMillis)
    val chunk = createSinusChunk(descriptor)

    //language=JSON
    roundTrip(
      chunk, HistoryChunk.serializer()
    ) {
      //language=JSON
      """
        {
          "configuration" : {
            "decimalConfiguration" : {
              "dataSeriesIds" : [ 10, 11, 12 ],
              "displayNames" : [ {
                "key" : "val1",
                "fallbackText" : "Value 1"
              }, {
                "key" : "val2",
                "fallbackText" : "Value 2"
              }, {
                "key" : "val3",
                "fallbackText" : "Value 3"
              } ],
              "units" : [ "kg", "cm", null ]
            },
            "enumConfiguration" : {
              "dataSeriesIds" : [ ],
              "displayNames" : [ ],
              "enums" : [ ]
            },
            "referenceEntryConfiguration" : {
              "dataSeriesIds" : [ ],
              "displayNames" : [ ]
            }
          },
          "timeStamps" : [ 100000.0, 100010.0, 100020.0, 100030.0, 100040.0, 100050.0, 100060.0, 100070.0, 100080.0, 100090.0, 100100.0, 100110.0, 100120.0, 100130.0, 100140.0, 100150.0, 100160.0, 100170.0, 100180.0, 100190.0, 100200.0, 100210.0, 100220.0, 100230.0, 100240.0, 100250.0, 100260.0, 100270.0, 100280.0, 100290.0, 100300.0, 100310.0, 100320.0, 100330.0, 100340.0, 100350.0, 100360.0, 100370.0, 100380.0, 100390.0, 100400.0, 100410.0, 100420.0, 100430.0, 100440.0, 100450.0, 100460.0, 100470.0, 100480.0, 100490.0, 100500.0, 100510.0, 100520.0, 100530.0, 100540.0, 100550.0, 100560.0, 100570.0, 100580.0, 100590.0, 100600.0, 100610.0, 100620.0, 100630.0, 100640.0, 100650.0, 100660.0, 100670.0, 100680.0, 100690.0, 100700.0, 100710.0, 100720.0, 100730.0, 100740.0, 100750.0, 100760.0, 100770.0, 100780.0, 100790.0, 100800.0, 100810.0, 100820.0, 100830.0, 100840.0, 100850.0, 100860.0, 100870.0, 100880.0, 100890.0, 100900.0, 100910.0, 100920.0, 100930.0, 100940.0, 100950.0, 100960.0, 100970.0, 100980.0, 100990.0, 101000.0, 101010.0, 101020.0, 101030.0, 101040.0, 101050.0, 101060.0, 101070.0, 101080.0, 101090.0, 101100.0, 101110.0, 101120.0, 101130.0, 101140.0, 101150.0, 101160.0, 101170.0, 101180.0, 101190.0, 101200.0, 101210.0, 101220.0, 101230.0, 101240.0, 101250.0, 101260.0, 101270.0, 101280.0, 101290.0, 101300.0, 101310.0, 101320.0, 101330.0, 101340.0, 101350.0, 101360.0, 101370.0, 101380.0, 101390.0, 101400.0, 101410.0, 101420.0, 101430.0, 101440.0, 101450.0, 101460.0, 101470.0, 101480.0, 101490.0, 101500.0, 101510.0, 101520.0, 101530.0, 101540.0, 101550.0, 101560.0, 101570.0, 101580.0, 101590.0, 101600.0, 101610.0, 101620.0, 101630.0, 101640.0, 101650.0, 101660.0, 101670.0, 101680.0, 101690.0, 101700.0, 101710.0, 101720.0, 101730.0, 101740.0, 101750.0, 101760.0, 101770.0, 101780.0, 101790.0, 101800.0, 101810.0, 101820.0, 101830.0, 101840.0, 101850.0, 101860.0, 101870.0, 101880.0, 101890.0, 101900.0, 101910.0, 101920.0, 101930.0, 101940.0, 101950.0, 101960.0, 101970.0, 101980.0, 101990.0, 102000.0, 102010.0, 102020.0, 102030.0, 102040.0, 102050.0, 102060.0, 102070.0, 102080.0, 102090.0, 102100.0, 102110.0, 102120.0, 102130.0, 102140.0, 102150.0, 102160.0, 102170.0, 102180.0, 102190.0, 102200.0, 102210.0, 102220.0, 102230.0, 102240.0, 102250.0, 102260.0, 102270.0, 102280.0, 102290.0, 102300.0, 102310.0, 102320.0, 102330.0, 102340.0, 102350.0, 102360.0, 102370.0, 102380.0, 102390.0, 102400.0, 102410.0, 102420.0, 102430.0, 102440.0, 102450.0, 102460.0, 102470.0, 102480.0, 102490.0, 102500.0, 102510.0, 102520.0, 102530.0, 102540.0, 102550.0, 102560.0, 102570.0, 102580.0, 102590.0, 102600.0, 102610.0, 102620.0, 102630.0, 102640.0, 102650.0, 102660.0, 102670.0, 102680.0, 102690.0, 102700.0, 102710.0, 102720.0, 102730.0, 102740.0, 102750.0, 102760.0, 102770.0, 102780.0, 102790.0, 102800.0, 102810.0, 102820.0, 102830.0, 102840.0, 102850.0, 102860.0, 102870.0, 102880.0, 102890.0, 102900.0, 102910.0, 102920.0, 102930.0, 102940.0, 102950.0, 102960.0, 102970.0, 102980.0, 102990.0, 103000.0, 103010.0, 103020.0, 103030.0, 103040.0, 103050.0, 103060.0, 103070.0, 103080.0, 103090.0, 103100.0, 103110.0, 103120.0, 103130.0, 103140.0, 103150.0, 103160.0, 103170.0, 103180.0, 103190.0, 103200.0, 103210.0, 103220.0, 103230.0, 103240.0, 103250.0, 103260.0, 103270.0, 103280.0, 103290.0, 103300.0, 103310.0, 103320.0, 103330.0, 103340.0, 103350.0, 103360.0, 103370.0, 103380.0, 103390.0, 103400.0, 103410.0, 103420.0, 103430.0, 103440.0, 103450.0, 103460.0, 103470.0, 103480.0, 103490.0, 103500.0, 103510.0, 103520.0, 103530.0, 103540.0, 103550.0, 103560.0, 103570.0, 103580.0, 103590.0, 103600.0, 103610.0, 103620.0, 103630.0, 103640.0, 103650.0, 103660.0, 103670.0, 103680.0, 103690.0, 103700.0, 103710.0, 103720.0, 103730.0, 103740.0, 103750.0, 103760.0, 103770.0, 103780.0, 103790.0, 103800.0, 103810.0, 103820.0, 103830.0, 103840.0, 103850.0, 103860.0, 103870.0, 103880.0, 103890.0, 103900.0, 103910.0, 103920.0, 103930.0, 103940.0, 103950.0, 103960.0, 103970.0, 103980.0, 103990.0, 104000.0, 104010.0, 104020.0, 104030.0, 104040.0, 104050.0, 104060.0, 104070.0, 104080.0, 104090.0, 104100.0, 104110.0, 104120.0, 104130.0, 104140.0, 104150.0, 104160.0, 104170.0, 104180.0, 104190.0, 104200.0, 104210.0, 104220.0, 104230.0, 104240.0, 104250.0, 104260.0, 104270.0, 104280.0, 104290.0, 104300.0, 104310.0, 104320.0, 104330.0, 104340.0, 104350.0, 104360.0, 104370.0, 104380.0, 104390.0, 104400.0, 104410.0, 104420.0, 104430.0, 104440.0, 104450.0, 104460.0, 104470.0, 104480.0, 104490.0, 104500.0, 104510.0, 104520.0, 104530.0, 104540.0, 104550.0, 104560.0, 104570.0, 104580.0, 104590.0, 104600.0, 104610.0, 104620.0, 104630.0, 104640.0, 104650.0, 104660.0, 104670.0, 104680.0, 104690.0, 104700.0, 104710.0, 104720.0, 104730.0, 104740.0, 104750.0, 104760.0, 104770.0, 104780.0, 104790.0, 104800.0, 104810.0, 104820.0, 104830.0, 104840.0, 104850.0, 104860.0, 104870.0, 104880.0, 104890.0, 104900.0, 104910.0, 104920.0, 104930.0, 104940.0, 104950.0, 104960.0, 104970.0, 104980.0, 104990.0 ],
          "values" : {
            "decimalHistoryValues" : {
              "values" : "AAMB9MBJUXruyzlwwETXS/UVKb5AV+7fdJJdF8BI4sf6BrOrwEThfxs0YptAV+8vHrZrpsBIc3HuDheywETrsI8eOxZAV+9+xa1BPMBIA3ukhtkrwET14FAnr7FAV+/OaXbQfcBHkuf7MJJrwEUADl2l2aRAV/AeChMMC8BHIbnT0jnCwEUKOrbt7rZAV/Btp4HmjcBGr/QUJzxfwEUUZVtVQQhAV/C9QcNSpMBGPZmlzIYowEUejkoxP5RAV/EM2NdC98BFyq12LWXDwEUotYLXdfVAV/FcbL2qLMBFVzJ2cGIiwEUy2wSdjIxAV/Gr/XZ66cBE4yubY/CawEU8/s7ZSENAV/H7iwGn08BEbpvdaxMAwEVHIODgiwtAV/JLFV8jlMBD+YY4aeSrwEVRQToJU7VAV/KanI7g0sBDg+2rsgopwEVbX9mpvbVAV/LqIJDSNcBDDdU57wpnwEVlfL8YAa1AV/M5oWTqZ8BClz/pEphkwEVvl+mqdTtAV/OJHwscEcBCIDDCQMD7wEV5sVi3isFAV/PYmYNZ28BBqKrRvAOjwEWDyQuV0fZAV/QoEM2Wc8BBMLEm0V1bwEWN3wGb96hAV/R3hOnEgcBAuEbTxDkVwEWX8zogxZNAV/TG9dfWssBAP27tuky0wEWiBbR7It9AV/UWY5e/scA/jFkZTtTkwEWsFnACE/NAV/VlzilyLMA+mQWWcmnZwEW2JWwMukBAV/W1NYzgzsA9pOmNhZiowEXAMqfyVM1AV/YEmcH+R8A8sAs+UMXSwEXKPiMKP+JAV/ZT+si9Q8A7unDtlYFAwEXUR9yr9U1AV/ajWKEQc8A6xCDk5XpawEXeT9QvDBJAV/bys0rqhMA5zSFyeUczwEXoVgjrOO5AV/dCCsY+J8A41XjpBw0awEXyWno4Ti1AV/eRXxL+DMA33S2fmRlgwEX8XSduO3FAV/fgsDEc5cA25EXxZFApwEYGXg/lDj1AV/gv/iCNYMA16sg9nn/bwEYQXTL08bpAV/h/SOFCNMA08LrnVKmUwEYaWo/2LpRAV/jOkHMuD8Az9iRVQRmWwEYkViZBK25AV/kd1NZDpcAy+wrxoX59wEYuT/UubLhAV/ltFgp1qsAx/3UqDNopwEY4R/wWlINAV/m8VA+208AxA2lvSVy0wEZCPjpSYvtAV/oLjuX508AwBu41IjhRwEZMMq86tjdAV/paxo0xYMAuFBPkeqc1wEZWJVooihJAV/qp+wVQMMAsGYY/4dJDwEZgFjp0+KBAV/r5LE5I98AqHkB0MkZ/wEZqBU95OfJAV/tIWmgObsAoIk992zL6wEZz8piOpEdAV/uXhVKTTMAmJcBdrX0JwEZ93hUOq8dAV/vmrQ3KSMAkKKAYhptHwEaHx8RS4wRAV/w10ZmmGsAiKvu2+zo+wEaRr6W0+sdAV/yE8vYZfMAgLOBFAcicwEablbiOwepAV/zUESMXJ8AcXLWjOhjFwEalefw6Jc1AV/0jLCCR1cAYXvDdDOrfwEavXHARMitAV/1yQ+58P8AUYIxfsRnUwEa5PRNuEOtAV/3BWIzJIsAQYaJXcmv6wEbDG+WrCqBAV/4QaftrOcAIxJnoD4R0wEbM+OYihlhAV/5feDpVP8AAxUzPz0DfwEbW1BQvCW5AV/6ug0l58r/xiyOeca5GwEbgrW8rOARAV/79iyjMDr+4s6pGJo5zwEbqhPZx1N1AV/9Mj9g+UT/s6XDnp15/wEb0WqldwShAV/+bkVfDeT/+dEzPMqxfwEb+LodJ/P5AV//qj6dORkAHOYzKlOTgwEcIAI+RpyBAWAA5isbRdkAPOFr5IezSwEcR0MGP/S9AWACIgrY/yEATmy5GtcIlwEcbnxygW15AWADXd3WL/kAXma6TbL20wEcla6AePPtAWAEmaQSo2EAbl5Q1s+G+wEcvNktlPDhAWAF1V2OJGUAflMUEftWPwEc4/x3REgVAWAHEQpIfgEAhyJNtsR2LwEdCxha9loNAWAITKpBe0UAjxk/Nn4pbwEdMizWGwN9AWAJiD1450EAlw4qVdwQfwEdWTnmIpx5AWAKw8PujQEAnwDa79SFuwEdgD+IffptAWAL/z2iN40ApvEc7fjTDwEdpz26nm9pAWANOqqTsgUArt68ScqzAwEdzjR59cllAWAOdgrCx3EAtsmFDhD5lwEd9SPD9lQ1AWAPsV4vQu0AvrFDWCw70wEeHAuWEtjFAWAQ7KTY75UAw0rhrLV+bwEeQuvtvpx1AWASJ96/mIUAxztorC5uswEeacTIbWL9AWATYwvjCNUAyyoc2RL8PwEekJYjk21lAWAUnixDC6EAzxbkbeh5+wEet1/8pXrZAWAV2T/fbBEA0wGlsdB3ewEe3iJRGMeFAWAXFEa39UkA1upG+TFlqwEfBN0eYw6pAWAYT0DMcmkA2tCupl6tKwEfK5Bh+onVAWAZii4crqEA3rTDKkCg+wEfUjwZVfAhAWAaxQ6odREA4pZrBPwQ7wEfeOBB7HgtAWAb/+JvkOkA5nWMxplB2wEfn3zZNddtAWAdOqlxzV0A6lIPD6q0awEfxhHcqkFZAWAedWOu9ZUA7ivYkfN/IwEf7J9JwmmFAWAfsBEm1MkA8gLQEQz7uwEgEyUd94KxAWAg6rHZNjEA9dbcYwxZuwEgOaNWwz5NAWAiJUXF5PkA+afkcSddwwEgYBnxn849AWAjX8zsrGEA/XXPOFjfxwEghojsB+QlAWAkmkdNV6kBAKBB5QJjowEgrPBDdrDZAWAl1LTnsgEBAoP0pk2mIwEg00/1Z+YZAWAnDxW7hrUBBGXzfh3yDwEg+af/V7WlAWAoSWnIoP0BBkYyFavP1wEhH/hewtH9AWApg7EOzCUBCCSkIalhMwEhRkERJm1hAWAqveuN020BCgE9YpL8DwEhbIIUADu9AWAr+BlFgiUBC9vxpP939wEhkrtkznHZAWAtMjo1o40BDbS0wfAR9wEhuO0BD8TRAWAubE5eAvEBD4t6nyAZjwEh3xbmQ2vhAWAvplW+a6kBEWA3L1RJwwEiBTkR6R+xAWAw4FBWqP0BEzLecqmwYwEiK1OBgRmhAWAyGj4mhkUBFQNkduRokwEiUWYyjBW5AWAzVB8tztUBFtG9V73REwEid3Eii1HtAWA0jfNsTgEBGJ3dPzKDvwEinXRPAI1xAWA1x7rhzyUBGme4Zc/vNwEiw2+1bgqNAWA3AXWOHZkBHC9DEwF32wEi6WNTVo3xAWA4OyNxBMEBHfRxnV1QvwEjD08mPV4ZAWA5dMSKT/UBH7c4avDw/wEjNTMrpkUJAWA6rljZyp0BIXeL8Y0KtwEjWw9hFY9pAWA75+BfQBUBIzVgtxEz6wEjgOPEEA1JAWA9IVsae8kBJPCrUbclmwEjprBSGxEBAWA+WskLSSUBJqlgaF103wEjzHUIvHFBAWA/lCoxc4kBKF90stIHWwEj8jHleog1AWBAzX6MxmkBKhLc+hvwWwEkF+bl3DL5AWBCBsYdDTUBK8OOGMT3/wEkPZQHaNNVAWBDQADiE1UBLXF8+yKvZwEkYzlHqE8hAWBEeS7bpEkBLxyen574awEkiNakIw+ZAWBFslAJi3kBMMToFwAu7wEkrmwaYgMhAWBG62RrlGEBMmpOhLDZQwEk0/mn7pyxAWBIJGwBin0BNAzHHwbHewEk+X9KUtMVAWBJXWbLOUEBNaxHL4nNuwElHvz/GSLJAWBKllTIbDEBN0jEEzoA6wElRHLDzI1RAWBLzzX47tEBOOIzOtVcjwElaeCV+JiBAWBNCApcjJkBOniKKxz+kwElj0ZzKVBdAWBOQNHzERUBPAu+fRnfMwEltKRY60YhAWBPeYy8R8UBPZvF3mDr2wEl2fpEy5DxAWBQsjq3/DEBPyiWEVa/uwEl/0g0V8z9AWBR6tvl+e0BQFkSdrlX0wEmJI4lHh0xAWBTI3BGDH0BQRw0L8CyCwEmScwUrSqpAWBUW/fX/3EBQd2rNPNzowEmbwIAlCPxAWBVlHKbnl0BQp1yknAIFwEmlC/mYr7lAWBWzOCQtNEBQ1uFX2G6AwEmuVXDqTgBAWBYBUG3DmEBRBfeviDjRwEm3nOV+FGdAWBZPZYOdq0BRNJ53FLJjwEnA4la4VX1AWBadd2WuUEBRYtR8wk7KwEnKJcP9hZNAWBbrhhPocUBRkJiRuHg8wEnTZyyyOpVAWBc5kY4+9EBRvemKCU5YwEncppA7LIBAWBeHmdSkwkBR6sY8uVXswEnl4+39NSRAWBfVnucMwkBSFy2DxxFfwEnvH0VdUFBAWBgjoMVp3kBSQx48MohCwEn4WJXAm5ZAWBhxn2+u/0BSbpdGBLs3wEoBj96MVsVAWBi/muXPEEBSmZeEVwGGwEoKxR8l47VAWBkNkye8/EBSxB3dWlUHwEoT+FbyxiNAWBlbiDVrrEBS7ik6XonBwEodKYVYpCBAWBmpeg7OD0BTF7iH2W7AwEomWKm9RepAWBn3aLPXDkBTQMq1bdyjwEovhcOGlcBAWBpFVCR5mEBTaV618q9NwEo4sNIaoFZAWBqTPGComkBTkXN/eahZwEpB2dTflKlAWBrhIWhXAkBTuQgLVj6lwEpLAMs7w9hAWBsvAzt3vkBT4BtWJFh9wEpUJbSVoZBAWBt84dn9vUBUBqxfzu3ZwEpdSJBTw+tAWBvKvUPb7kBULLorlpiHwEpmaV3c4z1AWBwYlXkFQ0BUUkPAGArkwEpviByX2o1AWBxmanlsqkBUd0gnUnL1wEp4pMvrp1ZAWBy0PEUFFkBUm8ZurcdIwEqBv2s/abdAWB0CCtvBeUBUv72nAPtqwEqK1/n6ZDFAWB1P1j2UxEBU4yzkmB/2wEqT7neD/B9AWB2dnmpx6kBVBhM/OmvpwEqdAuNDuY9AWB3rY2JL30BVKG/SMC0ywEqmFTyhRwpAWB45JSUVlUBVSkG8SKRMwEqvJYMEchlAWB6G47LCAkBVa4gf38ibwEq4M7XVKwtAWB7UnwtEG0BVjEIi4/OMwErBP9R7hNZAWB8iVy6O1UBVrG7u23dTwErKSd5ftX1AWB9wDByVJUBVzA2w6hsTwErTUdLqFfdAWB+9vdVKA0BV6x2Z1oFjwErcV7GDIfJAWCALbFigZkBWCZ3eD3bgwErlW3mTeFVAWCBZF6aLREBWJ421sScrwEruXSqD2wtAWCCmv779l0BWROxcijt0wEr3XMO9Lt5AWCD0ZKHqWEBWYbkSIODCwEsAWkSoe+hAWCFCBk9EfUBWffMZt7RKwEsJVayu7VhAWCGPpMb/A0BWmZm6UpjkwEsSTvs50ZpAWCHdQAkM40BWtKw+u3PVwEsbRi+ymiZAWCIq2BVhGUBWzyn1hs9mwEskO0mC2+RAWCJ4bOvunkBW6RIxGGYdwEstLkgUTxJAWCLF/oyocEBXAmRHp5T7wEs2HyrQzwhAWCMTjPeBikBXGx+TQ7MPwEs/DfEiWrpAWCNhGCxs60BXM0Nx2FIzwEtH+ppzFIJAWCOuoCtdj0BXSs9FMWQvwEtQ5SYtQfxAWCP8JPRGdEBXYcJy/0f5wEtZzZO7THhAWCRJpocamEBXeBxk2r1pwEtis+KHwMpAWCSXJOPM/EBXjdyISL4JwEtrmBH9TypAWCTkoApQnkBXowJOvj2CwEt0eiGGy5pAWCUyF/qYgEBXt40to9AlwEt9WhCPLcJAWCV/jLSXoEBXy3yeWTZhwEuGN96BkM5AWCXM/jhBAkBX3tAeOM96wEuPE4rJM8pAWCYabIWHp0BX8YcumvIPwEuX7RTReXxAWCZn15xekUBYA6FU2SlTwEugxHwF6IRAWCa1P3y4wkBYFR4aUVnEwEupmb/SKyZAWCcCpCaJQEBYJf0MaMnWwEuybN+iD7xAWCdQBZnDDUBYNj28jxFhwEu7PdrhiIRAWCedY9ZZLkBYRd/AQO6BwEvEDLD8q35AWCfqvtw+qEBYVOKxCv7/wEvM2WFfsuBAWCg4FqtmgEBYY0YsjGATwEvVo+t2/OJAWCiFa0PDvkBYcQnUeTNcwEvebE6vC5ZAWCjSvKVJZ0BYfi1OnQhPwEvnMop0hWBAWCkgCs/qg0BYirBE3SuvwEvv9p40NMZAWCltVcOaGUBYlpJlOtwEwEv4uIlbCExAWCm6nYBLMkBYodNh1WKMwEwBeEtWEthAWCoH4gXw10BYrHLw7BHTwEwKNeOSi5hAWCpVI1R+EUBYtnDM4Ck2wEwS8VF9zdBAWCqiYWvl6kBYv8y0Npy9wEwbqpSFWUpAWCrvnEwbbEBYyIZpmcKwwEwkYawW0hhAWCs80/URokBY0J2z2uUowEwtFpegAM5AWCuKCGa7mUBY2BJd87j+wEw1yVaO0jRAWCvXOaEMW0BY3uQ3B7lqwEw+eehRV8ZAWCwkZ6P29kBY5RMSZWfxwExHKExVx4BAWCxxkm9udkBY6p7Hh3F5wExP1IIKe7hAWCy+ugNl60BY74cyFbflwExYfojd845AWC0L3l/QYUBY88wx5kAWwExhJmA+0spAWC1Y/4Sg50BY922q/gTQwExpzAeb4aBAWC2mHXHKjkBY+muFka4owExyb35kDTBAWC3zOCdAZEBY/MWuBi1MwEx7EMQGZ1hAWC5AT6T1eUBY/nwU8T0nwEyDr9fyJoZAWC6NY+rc4EBY/46vGcdKwEyMTLmWpixAWC7adPjpqUBY//11eC2KwEyU52hjZphAWC8ngs8O6EBY/8hlNngMwEydf+PIDMRAWC90jW0/rEBY/u9/sGfbwEymFis0YtBAWC/BlNNvDEBY/XLKc24CwEyuqj4YV7hAWDAOmQGQGUBY+1JPPockwEy3PBvj/45AWDBbmfeV50BY+I4cAfujwEy/y8QHkzpAWDCol7VzjUBY9SZC3wROwEzIWTXzcORAWDD1kjscHkBY8RraJ1N0wEzQ5HEYG9ZAWDFCiYiCsEBY7Gv8XILAwEzZbXTmPEpAWDGPfZ2aXEBY5xnIL2V9wEzh9EDOn9ZAWDHcbnpWNkBY4SRgfz9RwEzqeNRCOU5AWDIpXB6pVUBY2ovsWN/1wEzy+y6yIJZAWDJ2RoqG1EBY01CW9aL6wEz7e0+PkwhAWDLDLb3hyEBYy3KPulTPwE0D+TZL81RAWDMQEbitTkBYwvIKNfwMwE0MdOJYyVpAWDNc8nrcfEBYuc8+IIdhwE0U7lMnwo5AWDOp0ARibkBYsApnWWC9wE0dZYgqsdRAWDP2qlUyPUBYpaPF5eTLwE0l2oDTj1ZAWDRDgW0/B0BYmpud778twE0uTTyUePhAWDSQVUx75UBYjvI3wywowE02vbrfshRAWDTdJfLb9UBYgqffzR6owE0/K/sno6pAWDUp82BSU0BYdbzmmUsnwE1Hl/ze3CpAWDV2vZTSHEBYaDGg0BhZwE1QAb94D9hAWDXDhJBOcEBYWgZnNHO9wE1YaUJmGLBAWDYQSFK6akBYSzuWoYx7wE1gzoUb9i5AWDZdCNwJLEBYO9GQCHKbwE1pMYcMzcpAWDapxiwt1EBYK8i4bZtxwE1xkker6sRAWDb2gEMbgkBYGyF45kwewE158MZsvgZAWDdDNyDFWEBYCdw+leiowE2CTQLC3oRAWDeP6sUedkBX9/l6qyhmwE2KpvwiCR5AWDfcmzAZ/UBX5XmiXTDiwE2S/rH+IHBAWDgpSGGrEUBX0l0u6JVbwE2bVCPLLUpAWDh18lnE00BXvqSdjDvnwE2jp1D9XnZAWDjCmRhaaEBXqlBvhilWwE2r+DkJCKJAWDkPPJ1e80BXlWEqEDHXwE20RttiprxAWDlb3OjFmEBXf9dWXI+DwE28kzd+2chAWDmoefqBfEBXabOBkmAdwE3E3UzSaPxAWDn1E9KFxkBXUvY8ygb7wE3NJRrSQZZAWDpBqnDFmkBXO6AdCXcQwE3VaqDzdzZAWDqOPdU0IEBXI7G7QGHrwE3drd6rQ8pAWDrazf/EfkBXCyu0REz4wE3l7tNvB1JAWDsnWvBp3EBW8g6ozI6PwE3uLX60SF5AWDtz5KcXY0BW2Fs9bjBMwE32ad/ws9ZAWDvAayPAOkBWvhIal7fvwE3+o/aaHN5AWDwM7mZXjUBWozPsjNiAwE4G28ImfTZAWDxZbm7Qg0BWh8FjYgjrwE4PEUIL9R5AWDyl6z0eSEBWa7sy+AGCwE4XRHXAyyhAWDzyZNE0BUBWTyIS9yJdwE4fdVy7bKBAWD0+2ysE6EBWMfa+yr5XwE4no/ZybVZAWD2LTkqEG0BWFDn1nFALwE4v0EJch8xAWD3Xvi+kzEBV9ex6TpSCwE43+j/wnPpAWD4kKtpaJkBV1w8TeI1wwE5AIe6ltLhAWD5wlEqXWUBVt6KLYGzbwE5IR03y/ZRAWD68+oBPkkBVl6ev9mbxwE5Qal1PzLRAWD8JXXt1/0BVdx9Sz2vTwE5YixwznjRAWD9VvTv90UBVVgpJH8s4wE5gqYoWFQpAWD+iGcHaNkBVNGlrtb6kwE5oxaZu+tBAWD/ucwz+XkBVEj2W89vowE5w33C2QD5AWEA6yR1dfEBU74eqy3IVwE549uhj/PpAWECHG/LqwEBUzEiKts1BwE6BDAzwb2pAWEDTa42ZXEBUqIEds2MTwE6JHt3T/S5AWEEft+1cg0BUhDJOO+p9wE6RL1qHMuxAWEFsARInZ0BUX10KQllPwE6ZPYKCxCxAWEG4RvvtPUBUOgJDKc5ewE6hSVU/i75AWEIEiaqhOEBUFCLtwGLxwE6pUtI2i45AWEJQyR42jUBT7cACOOWtwE6xWfjg7LxAWEKdBVagcUBTxtp8JIFswE65Xsi3/3ZAWELpPlPSGUBTn3NabEviwE7BYUE1O1RAWEM1dBW+vUBTd4ufSr5QwE7JYWHSPzRAWEOBppxZkkBTTyRQRRqlwE7RXyoI0RhAWEPN1eeV0UBTJj52JLjrwE7ZWplS3o5AWEQaAfdmsUBS/Nsc8D8xwE7hU68qfHpAWERmKsu/akBS0vtT5MbPwE7pSmsJ5whAWESyUGSTNkBSqKAtbujGwE7xPsxrgf5AWET+csHVTkBSfcq/I7kdwE75MNLJ2J5AWEVKkeN47EBSUnwhuar0wE8BIH2fnYxAWEWWrclxS0BSJrVxAWAMwE8JDcxnqxhAWEXixnOxpkBR+nfL3mZgwE8Q+L6dAzRAWEYu2+ItN0BRzcRUP988wE8Y4VO6zz5AWEZ67hTXPkBRoJwvGRJKwE8gx4s8YGhAWEbG/Qui9EBRcwCEWe9dwE8oq2SdL4hAWEcTCMaDmEBRRPJ+53owwE8wjN9Y3UBAWEdfEUVsaEBRFnNMlCK5wE84a/rrMcBAWEerFohQokBQ54QeGAzbwE9ASLbQHTBAWEf3GI8jhkBQuCYnCUKMwE9IIxKDt45AWEhDF1nYUUBQiFqd09M4wE9P+w2CQIhAWEiPEuhiRUBQWCK7seNewE9X0KdIH9pAWEjbCzq0okBQJ3+8o6WFwE9fo99R5S5AWEknAFDCqkBP7OW+zoquwE9ndLUcR/hAWEly8ip/nUBPifrK4XvCwE9vQygkJ9ZAWEm+4Mfev0BPJkElwzv6wE93DzfmjG5AWEoKzCjTUUBOwbtdAXvYwE9+2OPgpURAWEpWtE1Ql0BOXGwDY8HSwE+GoCuPyipAWEqimTVJ1kBN9lWw2osRwE+OZQ5xewhAWErueuCyUEBNj3sCblAFwE+WJ4wDX8xAWEs6WU99TEBNJ96aLmIBwE+d56PDSLpAWEuGNIGeD0BMv4MfH6fdwE+lpVUvLkhAWEvSDHcH3kBMVms9K0BdwE+tYJ/FMTpAWEwd4S+uAUBL7JmlDPsbwE+1GYMDmnJAWExpsquDvUBLghEMQbtUwE+8z/5o21ZAWEy1gOp8XEBLFtQs9bU7wE/EhBFzjaJAWE0BS+yLJUBKquXF8oxvwE/MNbuic1JAWE1NE7GjYUBKPkiajVo2wE/T5Px0dvZAWE2Y2Dm4WEBJ0P9ylI/3wE/bkdNoq5RAWE3kmYS9V0BJYw0aPbxhwE/jPD/+TIpAWE4wV5KlpUBI9HRiEzmywE/q5EG0vd5AWE58EmNkjkBIhTge4bmmwE/yidgLjC5AWE7HyfbtXUBIFVsppbVlwE/6LQKCbIBAWE8Tfk0zX0BHpOBfeMglwFAA5uBMnlFAWE9fL2Yp4EBHM8qhfui9wFAEtgjoAYpAWE+q3UHELkBGwhzU04itwFAIg/rTd2lAWE/2h9/1lEBGT9nidqAUwFAMULXPK99AWFBCL0CxZEBF3QS3OZW+wFAQHDmbXzhAWFCN02Pq6UBFaaBDrBibwFAT5oX4ZitAWFDZdEmVdUBE9a98CNm5wFAXr5qmqcNAWFElEfGkVUBEgTVYIi4mwFAbd3dmp4xAWFFwrFwK3EBEDDTTTp+mwFAfPhv48YVAWFG8Q4i8WUBDlrDsVWAJwFAjA4geLg1AWFIH13esH0BDIKylWqXfwFAmx7uXGBFAWFJTaCjNf0BCqisDy/mgwFAqirYkfv1AWFKe9ZwTy0BCMy8QTGbWwFAuTHeHRqpAWFLqf9FyV0BBu7vWoJgzwFAyDP+AZ4lAWFM2BsjcdkBBQ9RlmuZowFA1zE3Q7plAWFOBioJFfUBAy3vPB0gNwFA5imI5/VFAWFPNCv2gwUBAUrUnlzkCwFA9Rzx8yc9AWFQYiDrhlUA/swcNmw75wFBBAtxansdAWFRkAjn7UEA+v9QN1B1BwFBEvUGU23VAWFSvePrhSUA9y9eJqsuFwFBIdmvs88VAWFT67H2G1UA81xfAGO9GwFBMLlskcERAWFVGXMHfTkA74Zr1GBFowFBP5Q787idAWFWRycfeCkA662dxeGdnwFBTmoc4Hz5AWFXdM492YkA59IOCt598wFBXTsOXyhtAWFYomhibr0A4/PV61430wFBbAcPdygNAWFZz/WNBS0A4BMOwNMqVwFBes4fMDt5AWFa/XW9aj0A3C/R9XSPdwFBiZA8knWRAWFcKujza10A2Eo5A5fbAwFBmE1mpjw1AWFdWE8u1fUA1GJddQnsywFBpwWcdEf5AWFehahvd3kA0HhY4meCJwFBtbjdBaTpAWFfsvS1HVUAzIxE8nWhuwFBxGcnY7I9AWFg4DP/lQEAyJ47WXltswFB0xB6mCIVAWFiDWZOq/EAxK5V2I+dHwFB4bTVrPo5AWFjOouiL50AwLyuPQPYiwFB8FQ3rJPRAWFkZ6P57X0AuZK8v08fAwFB/u6foZsRAWFllK9Vsw0AsakASFEEywFCDYQMlxAVAWFmwa21Tc0Aqbxa8M55VwFCHBR9mEZZAWFn7p8Yi0EAoc0Ap5opewFCKp/xsOUlAWFpG4N/OOEAmdslbUPacwFCOSZn7OcNAWFqSFrpJD0Akeb9UsP0QwFCR6ffWJq9AWFrdSVWGtEAifC8eCXmZwFCViRXAKK1AWFsoeLF6jEAgfiXCzLj9wFCZJvN8fT9AWFtzpM4X+EAc/2CjDeTGwFCcw5DOdvdAWFu+zatSXUAZAbe3EVjewFCgXu15fWZAWFwJ80kdHUAVA2rpIliNwFCj+QlBDQ9AWFxVFadrnkARBJRk8XE4wFCnkePot45AWFygNMYxREAKCpyzazvYwFCrKX00I41AWFzrUKVhdUACC2XzAaX7wFCuv9TnDK5AWF02aUTvlz/0F3HiUPsewFCyVOrFQ75AWF2BfqTPET/QXlDLR8EHwFC16L6SrqFAWF3MkMTzS7/n0MicEGnawFC5e1ATSEBAWF4Xn6VPqr/76A7FHBRSwFC9DJ8LILlAWF5iq0XXmMAF84EspAMIwFDAnKs+XUdAWF6ts6Z+fsAN8msbDEYRwFDEK3RxOFFAWF74uMc3xsAS+EhjngcNwFDHuPpoAVdAWF9Duqf22MAW9t7n11CSwFDLRTznHRxAWF+OuUivIMAa9N7snl7owFDO0DuzBZNAWF/ZtKlUCMAe8i5IOe9wwFDSWfaQSdZAWGAkrMnY/cAhd1lquzcEwFDV4m1DjklAWGBvoaoxacAjdSk6KK/9wFDZaZ+RjJRAWGC6k0pQusAlcnmFUlZpwFDc740/E4lAWGEFgaoqXcAnbz1CaMRjwFDgdDYRB1VAWGFQbMmxwMApa2drNbYxwFDj95nMYXJAWGGbVKjaUcArZur9cW5+wFDnebg2MJFAWGHmOUeXf8AtYbr7F+G+wFDq+pETmMpAWGIxGqXcuMAvW8pqvfQ2wFDueiQp04VAWGJ7+MOdbsAwqoYr8zWuwFDx+HE+L4lAWGLG06DNEMAxprnpq27zwFD1dXgWEOhAWGMRqz1fEMAyonn5tkCmwFD48Th28SdAWGNcf5lG38Aznb/qOFt5wFD8a7ImXzJAWGOnULR378A0mIVMdscdwFD/5OTp/0pAWGPyHo7ltMA1ksO1AQ7EwFEDXNCHizBAWGQ86SiDnsA2jHS720pOwFEG03TE0hZAWGSHsIFFJMA3hZH8qB6XwFEKSNFnuI9AWGTSdJkducA4fhUW0qX9wFENvOY2OLhAWGUdNXAA0cA5dfetuDJ/wFERL7L2Yi5AWGVn8wXh48A6bTNo0gObwFEUoTduWfhAWGWyrVq0ZMA7Y8Hz3uE+wFEYEXNkWrJAWGX9ZG5ry8A8WZz/DIugwFEbgGaetIJAWGZIGED7j8A9Tr4/ISSpwFEe7hDjzQdAWGaSyNJXJcA+Qx9tpGSwwFEiWnH6H4BAWGbddiJyCcA/NrpJCL8IwFElxYmoPLlAWGcoIDE/ssBAFMRKajMqwFEpL1e0yxxAWGdyxv6zmMBAjcIM5REZwFEsl9vmhpdAWGe9aorBN8BBBlNTCQf0wFEv/xYEQM1AWGgICtVcB8BBfnUGsR/hwFEzZQXU4QFAWGhSp953hcBB9iQUk5BXwFE2yasfZAhAWGidQaYHK8BCbV1sVengwFE6LQWq3HRAWGjn2Cv+dMBC5B4AoSyTwFE9jxU+coVAWGkya3BQ4MBDWmLHNcOBwFFA79mhZBdAWGl8+3Lx6MBD0Ci4/3bXwFFET1KbBM1AWGnHiDPVDMBERWzSKT5HwFFHrX/yvgRAWGoSEbLtycBEuiwSMQV6wFFLCmFwDsJAWGpcl/Avn8BFLmN7+1qgwFFOZfbai95AWGqnGuuODMBFohAV5wBWwFFRwD/53/JAWGrxmqT8kMBGFS7p4G8rwFFVGTyVy05AWGs8Fxxuq8BGh70FdT/PwFFYcOx2JB9AWGuGkFHX38BG+bd553cpwFFbx09i1llAWGvRBkUrrMBHaxtcQMB+wFFfHGUj48hAWGwbePZdlMBH2+XFZY6/wFFicC2BY/xAWGxl6GVhGsBITBPSKB5ewFFlwqhDhHJAWGywVJIpwsBIu6KjW2OmwFFpE9UyiIJAWGz6vXyrDcBJKo9d5d7FwFFsY7QWyVNAWG1FIyTYgsBJmNcq1E5RwFFvskS4tgJAWG2PhYqlpMBKBnc3bFDSwFFy/4bg05ZAWG3Z5K4F+MBKc2y1PuBywFF2S3pXvOxAWG4kQI7tBcBK37TaOrlWwFF5lh7mIuVAWG5umS1OUcBLS0zgvqM+wFF833RUzFVAWG647okdYsBLtjIHq5gjwFGAJ3pslfJAWG8DQKJNwMBMIGGSdtNIwFGDbjD2coFAWG9Nj3jS88BMidjJO8IswFGGs5e7asJAWG+X2wygg8BM8pT4zdE5wFGJ966EnWZAWG/iI12p+sBNWpNyyh9cwFGNOnUbPzRAWHAsaGvi4cBNwdGNqRIuwFGQe+tImvdAWHB2qjc+wcBOKEykz8P0wFGTvBDWEYpAWHDA6L+xJ8BOjgIYoVrTwFGW+uWNGcZAWHELJAUtncBO8u9OkDXfwFGaOGk3QKlAWHFVXAenrsBPVxGxLv9EwFGddJueKUxAWHGfkMcS6cBPumawQZzSwFGgr3yLjMlAWHHpwkNi18BQDnXgZvx6wFGj6QvJOm5AWHIz8HyLCMBQP08ulldhwFGnIUkhF61AWHJ+G3J/CsBQb74CjMmOwFGqWDRdIAZAWHLIQyUyasBQn8Ee4gqIwFGtjc1HZTVAWHMSZ5SYucBQz1dI77/9wFGwwhOqDyNAWHNciMClhcBQ/n9I2YyzwFGz9QdPW9hAWHOmpqlMX8BRLTfplQqPwFG3JqgBn51AWHPwwU6A2MBRW3/48bTMwFG6VvWLRPZAWHQ62LA2gMBRiVZHoL9vwFG9he+2zItAWHSE7M5g6sBRtrmpPNkNwFHAs5ZOzVdAWHTO/ajzqMBR46j0Ud2wwFHD3+kd9I9AWHUZCz/iTMBSECMCZHJEwFHHCufvBbNAWHVjFZMga8BSPCav+Y9YwFHKNJKM2nhAWHWtHKKhmMBSZ7LcnfgjwFHNXOjCYvBAWHX3IG5ZZ8BSksZq7ZtFwFHQg+papX9AWHZBIPY7b8BSvWBAmuHuwFHTqZcgvshAWHaLHjo7RMBS539Gdeq1wFHWze7f4dZAWHbVGDpMfcBTESJoc623wFHZ8PFjWAxAWHcfDvZiscBTOkiVtQ5twFHdEp52gRpAWHdpAm5xdsBTYvDAjdixwFHgMvXk0yNAWHey8qJsZMBTixnei6ZWwFHjUfd52qxAWHf835JHFMBTssLofLNBwFHmb6MBOo5AWHhGyT31H8BT2eradpiYwFHpi/hGrCNAWHiQr6VqH8BUAJCz3PTcwFHspvcV/zBAWHjaksiZrMBUJrN3Z/5MwFHvwJ87GdpAWHkkcqd3Y8BUTFIrKv1mwFHy2PCB+M1AWHluT0H23cBUcWvYmrN+wFH17+q2rylAWHm4KJgLt8BUlf+Mk6smwFH5BY2lZoxAWHoB/qmpjcBUugxXYHA9wFH8GdkaXwVAWHpL0XbD/MBU3ZFMv7OWwFH/LMzh7zZAWHqVoP9OocBVAI2D6lfmwFICPmjIhEZAWHrfbUM9GcBVIwAXmWX6wFIFTqyaoddAWHspNkKDA8BVROgmC+v7wFIIXZgk4iRAWHty+/0T/8BVZkTRDMWDwFILaysz9f5AWHu8vnLjq8BVhxU9+EpswFIOd2WUpLJAWHwGfaPlqMBVp1iVwelKwFIRgkcTzDlAWHxQOZANlsBVxw4E+adgwFIUi89+YSdAWHyZ8jdPFsBV5jS70YrgwFIXk/6hbplAWHzjp5mdy8BWBMvuIu1XwFIamtRKFl9AWH0tWbbtV8BWItLTc7R1wFIdoFBFkO9AWH13CI8xW8BWQEim+3R0wFIgpHJhLVRAWH3AtCJde8BWXSynqHpEwFIjpzpqUVRAWH4KXHBlXMBWeX4YJLu6wFImqKgueV9AWH5UAXk8o8BWlTw+2rD3wFIpqLt7OJxAWH6dozzW8sBWsGZl+hUewFIsp3QeONVAWH7nQbsn8cBWyvvbfIyswFIvpNHlOpxAWH8w3PQjRcBW5PvxKjWBwFIyoNSeFUFAWH96dOe8lsBW/mX8nht4wFI1m3wWtsFAWH/ECZXnisBXFzlXSpWXwFI4lMgdI+pAWIANmv6XyMBXL3VefYoEwFI7jLh/eFBAWIBXKSHA+sBXRxlzZJdYwFI+g00L5j5AWICgs/9WyMBXXiT7ESXywFJBeIWQtt9AWIDqO5dM28BXdJdefF+1wFJEbGHcSilAWIEzv+mW3sBXinAKiwz1wFJHXuG9FtVAWIF9QPYoe8BXn65wEVj8wFJKUAUBqoJAWIHGvrz1XMBXtFID1nyqwFJNP8t4qahAWIIQOT3xLsBXyFo+mE4awFJQLjTwz4pAWIJZsHkPncBX28adDrdvwFJTG0E47ltAWIKjJG5EVcBX7paf7xOPwFJWBvAf7ylAWILslR2DA8BYAMnL72+AwFJY8UF00fFAWIM2Aoa/VcBYEl+pybNRwFJb2jUGrYdAWIN/bKns+sBYI1fGPq78wFJewcqkr7dAWIPI04b/oMBYM7GyGQ4DwFJhqAIeHUNAWIQSNx3q9w==",
              "minValues" : null,
              "maxValues" : null
            },
            "enumHistoryValues" : {
              "values" : "AAAB9A==",
              "mostOfTheTimeValues" : null
            },
            "referenceEntryHistoryValues" : {
              "values" : "AAAB9A==",
                  "differentIdsCount" : null,
                  "dataMaps" : [ ]
            }
          },
          "recordingType" : "Measured"
        }
      """
    }
  }

  @Disabled
  @Test
  fun testStorage() {
    val serializer = JsonHistoryStorageSerializer()

    val descriptor = HistoryBucketDescriptor.forTimestamp(100000.0, SamplingPeriod.EveryTenMillis)
    val bucket = HistoryBucket(descriptor, createSinusChunk(descriptor))

    val outputStream = ByteArrayOutputStream()

    outputStream.use { it ->
      serializer.serialize(bucket, it)
    }

    val serializedString = outputStream.toString()
    println("$serializedString")

    //language=JSON
    assertThat(serializedString).isEqualTo(
      """
        {
          "descriptor": {
            "bucketRange": "FiveSeconds",
            "start": 100000.0,
            "end": 105000.0
          },
          "chunk": {
            "dataSeriesIds": [
            ],
            "timeStamps": [
              100000.0,
              105000.0
            ],
            "values": "AAA=",
            "decimalPlaces": [
            ],
            "displayNames": [
            ]
          }
        }
      """.trimIndent()
    )

    val deserialized = ByteArrayInputStream(outputStream.toByteArray()).use {
      serializer.deserialize(it)
    }

    assertThat(deserialized).isEqualTo(bucket)
  }
}
