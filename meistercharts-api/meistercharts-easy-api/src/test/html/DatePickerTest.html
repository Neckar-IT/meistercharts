<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>

  <style>
    body {
      font-family: sans-serif;
      font-size: 14px;
    }
  </style>
  <title>Test with date-picker</title>
</head>

<body>

<p>
  Pick a date and time: <input type="datetime-local" id="datePicker" step="0.001"/>
</p>
<p>
  Assign current date and time:
  <button type="button" onclick="assignCurrentDateTime()">Assign</button>
</p>
<p>
  Get current value property:
  <button type="button" onclick="getCurrentValueProperty()">Get</button>
  <span id="valueProperty"></span>
</p>
<p>
  Get current value attribute:
  <button type="button" onclick="getCurrentValueAttribute()">Get</button>
  <span id="valueAttribute"></span>
</p>

<script>
  const datePicker = document.getElementById('datePicker');

  function assignCurrentDateTime() {
    // we need yyyy-MM-ddThh:mm:ss.SSS, so we must use toISOString()
    let currentDateAndTime = new Date().toISOString();
    currentDateAndTime = currentDateAndTime.substring(0, currentDateAndTime.indexOf('Z'));
    datePicker.value = currentDateAndTime;
    datePicker.setAttribute('value', currentDateAndTime);
  }

  function getCurrentValueProperty() {
    const val = datePicker.value;
    document.getElementById('valueProperty').textContent = val;
  }

  function getCurrentValueAttribute() {
    const val = datePicker.getAttribute('value');
    document.getElementById('valueAttribute').textContent = val;
  }
</script>

</body>

</html>
